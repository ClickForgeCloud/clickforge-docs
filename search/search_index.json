{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"ClickForge","text":"<p>ClickForge is a ClickHouse performance toolkit for operators who need fast answers about storage growth, query behavior, and indexing decisions.</p>"},{"location":"#what-clickforge-helps-you-do","title":"What ClickForge helps you do","text":"<ul> <li>Understand where storage is growing and which tables drive it</li> <li>Visualize table dependencies, materialized views, and downstream impact</li> <li>Inspect query behavior over time and spot slow or heavy patterns</li> <li>Test index changes safely on sampled data before applying them in production</li> <li>Benchmark two query variants and compare results side by side</li> </ul>"},{"location":"#how-it-works","title":"How it works","text":"<p>ClickForge connects to your ClickHouse cluster and reads from system tables like <code>system.parts</code>, <code>system.tables</code>, <code>system.part_log</code>, and <code>system.query_log</code>. Some workflows (Index Analysis) also create temporary test tables in a destination database you choose.</p>"},{"location":"#main-areas-in-the-ui","title":"Main areas in the UI","text":"<p>The sidebar groups tools into Observability and Experiments, matching the app navigation.</p> <p>Observability Table Monitor: Storage, table stats, and growth trends Table Lineage: Upstream and downstream dependencies between tables Parts Visualizer: Part-level storage and compression exploration Query Time: Query performance trends and pattern heatmaps Filter Alignment: How query filters match ORDER BY and skip indexes</p> <p>Experiments Index Analysis: Compare ORDER BY and skip index variants using sampled data Benchmark: Compare two queries or run parameterized load tests</p>"},{"location":"#start-here","title":"Start here","text":"<p>If this is your first time using ClickForge, go to Getting Started to connect an endpoint and run your first analysis.</p>"},{"location":"getting-started/","title":"Getting Started","text":"<p>This guide walks you through connecting ClickForge to ClickHouse and opening your first endpoint.</p>"},{"location":"getting-started/#screenshot","title":"Screenshot","text":"<p>Replace with a screenshot of the Endpoints list and Add Endpoint flow.</p>"},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<p>You need a ClickHouse user that can read <code>system.parts</code>, <code>system.tables</code>, <code>system.columns</code>, <code>system.query_log</code>, and <code>system.part_log</code>. For Index Analysis variants, the user must also be able to <code>CREATE TABLE</code>, <code>INSERT</code>, and <code>DROP TABLE</code> in a destination database you control.</p> <p>If <code>system.query_log</code> or <code>system.part_log</code> is disabled or access is denied, those features will show empty results.</p>"},{"location":"getting-started/#1-choose-your-organization","title":"1. Choose your organization","text":"<p>ClickForge scopes everything by organization. Use the Org selector in the sidebar to confirm you are in the correct org before creating endpoints or saving configurations.</p>"},{"location":"getting-started/#2-register-a-clickhouse-endpoint","title":"2. Register a ClickHouse endpoint","text":"<p>Go to Endpoints and select Add Endpoint. Fill in:</p> <ul> <li>Name: Friendly label for the cluster</li> <li>Host and Port: 9000 for native or 8123 for HTTP</li> <li>User and Database: Defaults for new queries</li> <li>Cluster: Optional, used for display only</li> <li>Secret Name / Impersonate SA: Optional, for managed environments</li> </ul> <p>Select Create Endpoint to save it.</p>"},{"location":"getting-started/#3-test-connectivity","title":"3. Test connectivity","text":"<p>On the Endpoints page, select Test on the endpoint card. A green badge confirms ClickForge can connect.</p>"},{"location":"getting-started/#4-open-the-endpoint","title":"4. Open the endpoint","text":"<p>Select the endpoint name to open its dashboard and start exploring features from the sidebar.</p>"},{"location":"getting-started/#5-run-your-first-analysis","title":"5. Run your first analysis","text":"<p>Start with Table Monitor to understand storage and growth, then use Query Time and Filter Alignment to prioritize the most impactful queries. The sidebar groups tools into Observability and Experiments, which match the UI navigation.</p> <p>Related Endpoint details and fields: Endpoints Start exploring storage: Table Monitor</p>"},{"location":"glossary/","title":"Glossary","text":"<p>Below are short definitions for common terms used in ClickForge.</p>"},{"location":"glossary/#clickforge-terms","title":"ClickForge terms","text":"<ul> <li>Organization: The top-level scope that owns endpoints and saved configurations.</li> <li>Endpoint: A saved ClickHouse connection used across all features.</li> <li>Saved Configuration: A stored Index Analysis setup (query, variants, and sampling).</li> </ul>"},{"location":"glossary/#clickhouse-terms","title":"ClickHouse terms","text":"<ul> <li>Part: A physical data chunk stored by MergeTree tables.</li> <li>Partition: A logical slice of a table used for data organization and pruning.</li> <li>Granule: A group of rows read together by the storage engine.</li> <li>Skip Index: An index that helps ClickHouse skip data blocks during reads.</li> <li>ORDER BY: The sorting key that defines primary data order for MergeTree tables.</li> <li>Materialized View: A view that stores its results in a target table.</li> <li>Query Log: <code>system.query_log</code>, which stores historical query execution data.</li> <li>Part Log: <code>system.part_log</code>, which stores part creation and merge events.</li> </ul>"},{"location":"quick-wins/","title":"Quick Wins","text":"<p>A short plan for getting value from ClickForge in your first week.</p>"},{"location":"quick-wins/#day-1-connect-and-validate","title":"Day 1: Connect and validate","text":"<ol> <li>Add your first endpoint and run a connectivity test.</li> <li>Open Table Monitor and review the largest tables.</li> <li>Confirm growth charts render for the last 30 days.</li> </ol>"},{"location":"quick-wins/#day-2-find-query-hot-spots","title":"Day 2: Find query hot spots","text":"<ol> <li>Open Query Time and load the last 7 days.</li> <li>Export the top query patterns to CSV.</li> <li>Note the top 3 query hashes by impact and duration.</li> </ol>"},{"location":"quick-wins/#day-3-validate-index-coverage","title":"Day 3: Validate index coverage","text":"<ol> <li>Open Filter Alignment for the same time range.</li> <li>Focus on queries with uncovered filter columns.</li> <li>Pick one candidate query and open Index Analysis.</li> </ol>"},{"location":"quick-wins/#day-4-test-variants-safely","title":"Day 4: Test variants safely","text":"<ol> <li>Create a destination database for test tables.</li> <li>Add two variants with different ORDER BY and skip indexes.</li> <li>Compare EXPLAIN stages and pick the best reduction.</li> </ol>"},{"location":"quick-wins/#day-5-compare-real-query-changes","title":"Day 5: Compare real query changes","text":"<ol> <li>Use Benchmark to compare the original query and your optimized version.</li> <li>Confirm improvements in duration, read rows, and memory.</li> <li>Share results with your team for implementation.</li> </ol> <p>Related Review the tools in detail: Table Monitor Look up terminology: Glossary</p>"},{"location":"troubleshooting/","title":"Troubleshooting","text":""},{"location":"troubleshooting/#query-time-or-filter-alignment-shows-no-data","title":"Query Time or Filter Alignment shows no data","text":"<ul> <li>Confirm <code>system.query_log</code> is enabled and has recent entries.</li> <li>Check the time range and timezone. ClickForge currently evaluates query log time in <code>Europe/Paris</code>.</li> <li>Make sure your ClickHouse user can read <code>system.query_log</code>.</li> </ul>"},{"location":"troubleshooting/#growth-charts-are-empty","title":"Growth charts are empty","text":"<ul> <li><code>system.part_log</code> may be disabled or empty.</li> <li>Ensure the ClickHouse user can read <code>system.part_log</code>.</li> </ul>"},{"location":"troubleshooting/#index-analysis-fails-with-database-errors","title":"Index Analysis fails with database errors","text":"<ul> <li>The destination database must exist before you run variants.</li> <li>The ClickHouse user needs <code>CREATE TABLE</code>, <code>INSERT</code>, and <code>DROP TABLE</code> permissions in that database.</li> </ul>"},{"location":"troubleshooting/#lineage-graph-is-empty","title":"Lineage graph is empty","text":"<ul> <li>Select at least one database and table.</li> <li>Ensure the ClickHouse user can read <code>system.tables</code>.</li> </ul>"},{"location":"concepts/endpoints/","title":"Endpoints","text":"<p>Endpoints are saved ClickHouse connections used across ClickForge features. Each endpoint belongs to a single organization.</p>"},{"location":"concepts/endpoints/#endpoint-fields","title":"Endpoint fields","text":"<ul> <li>Name: Display label used in the UI</li> <li>Host: ClickHouse host or IP</li> <li>Port: 9000 (native) or 8123 (HTTP)</li> <li>User: ClickHouse user for all queries</li> <li>Database: Default database for new queries</li> <li>Cluster: Optional label for multi-cluster environments</li> <li>Secret Name: Optional secret reference for managed auth</li> <li>Impersonate SA: Optional service account impersonation</li> </ul>"},{"location":"concepts/endpoints/#connectivity-checks","title":"Connectivity checks","text":"<p>Each endpoint card includes a Test button. Use it to validate access before running analysis tools.</p>"},{"location":"concepts/endpoints/#deleting-endpoints","title":"Deleting endpoints","text":"<p>Deleting an endpoint removes it from ClickForge. It does not modify your ClickHouse cluster.</p>"},{"location":"concepts/organizations/","title":"Organizations","text":"<p>Organizations are the top-level scope in ClickForge. Everything you see or save is tied to the active organization.</p>"},{"location":"concepts/organizations/#what-organizations-control","title":"What organizations control","text":"<ul> <li>Which endpoints you can access</li> <li>Which saved Index Analysis configurations appear in the UI</li> <li>The default organization when you sign in</li> </ul>"},{"location":"concepts/organizations/#switching-organizations","title":"Switching organizations","text":"<p>Use the Org selector at the top of the sidebar to switch context. When you switch, endpoints and saved configs update immediately.</p>"},{"location":"features/benchmark/","title":"Benchmark","text":"<p>Benchmark compares two queries or runs a parameterized load test against a single query.</p>"},{"location":"features/benchmark/#screenshot","title":"Screenshot","text":"<p>Replace with a screenshot of the Compare Queries and Load Test tabs.</p>"},{"location":"features/benchmark/#compare-queries","title":"Compare Queries","text":"<p>Use this tab to run Query A and Query B once and compare performance side by side.</p> <ul> <li>Paste two queries</li> <li>Set a row limit for sample results</li> <li>Run the benchmark to see duration, rows read, memory usage, and diff</li> </ul> <p>If both queries return data with matching schemas, ClickForge can also compare result sets.</p>"},{"location":"features/benchmark/#load-test","title":"Load Test","text":"<p>Use this tab to run the same query multiple times with parameter sets.</p> <ul> <li>Provide a query with parameter placeholders</li> <li>Add JSON parameters as an array of objects</li> <li>Optionally supply ClickHouse settings as JSON</li> </ul> <p>The results include run-level charts for duration, memory, and rows read, plus summary stats like P95 and P99.</p>"},{"location":"features/benchmark/#data-source","title":"Data source","text":"<p>Benchmark collects performance stats from <code>system.query_log</code> after each run.</p> <p>Related Pick candidates to compare: Query Time Design index changes first: Index Analysis</p>"},{"location":"features/filter-alignment/","title":"Filter Alignment","text":"<p>Filter Alignment evaluates how query filters line up with ORDER BY keys and skip indexes for the most impactful queries in <code>system.query_log</code>.</p>"},{"location":"features/filter-alignment/#screenshot","title":"Screenshot","text":"<p>Replace with a screenshot of the results table with expanded row details.</p>"},{"location":"features/filter-alignment/#what-it-shows","title":"What it shows","text":"<ul> <li>Leading and non-leading ORDER BY matches</li> <li>Partition key matches</li> <li>Skip index matches</li> <li>Uncovered filter columns</li> </ul>"},{"location":"features/filter-alignment/#how-to-use-it","title":"How to use it","text":"<ol> <li>Set a start and end date/time.</li> <li>Choose a sort mode: Most Impactful, Most Executed, or Slowest.</li> <li>Set the number of queries to analyze.</li> <li>Add optional filters. Filters are raw SQL predicates applied to <code>system.query_log</code>.</li> <li>Optionally set a Dimension (group by) such as <code>query_user</code>. The dimension must be a column name, not an expression.</li> <li>Click Analyze.</li> </ol> <p>Each row represents a query pattern, with badges summarizing coverage. Expand a row to see per-table filter alignment details.</p>"},{"location":"features/filter-alignment/#time-zone-note","title":"Time zone note","text":"<p>Filter Alignment uses the server-side timezone configured in ClickForge (currently <code>Europe/Paris</code>). If your team uses a different timezone, adjust the time range accordingly.</p> <p>Related Start with query patterns: Query Time Test index variants safely: Index Analysis</p>"},{"location":"features/growth/","title":"Growth","text":"<p>Growth analytics focuses on storage and row trends over time. It appears both as a standalone page and inside Table Monitor.</p>"},{"location":"features/growth/#screenshot","title":"Screenshot","text":"<p>Replace with a screenshot of the Growth charts (storage + row growth).</p>"},{"location":"features/growth/#what-the-charts-show","title":"What the charts show","text":"<ul> <li>Storage Growth: Compressed bytes by table, with an option to overlay uncompressed size</li> <li>Row Growth: Row counts by table</li> </ul> <p>Both charts support log scale to highlight changes across very different table sizes.</p>"},{"location":"features/growth/#tips","title":"Tips","text":"<ul> <li>Use a longer date range to spot slow creep and sudden spikes.</li> <li>Compare compressed vs uncompressed to detect compression drift.</li> <li>If no data appears, confirm <code>system.part_log</code> is enabled and has recent entries.</li> </ul> <p>Related Monitor tables alongside growth trends: Table Monitor Drill into storage layout: Parts Visualizer</p>"},{"location":"features/index-analysis/","title":"Index Analysis","text":"<p>Index Analysis lets you test ORDER BY and skip index variants on sampled data before changing production tables.</p>"},{"location":"features/index-analysis/#screenshot","title":"Screenshot","text":"<p>Replace with a screenshot of the query editor, variants, and results.</p>"},{"location":"features/index-analysis/#two-modes","title":"Two modes","text":"<ul> <li>Single EXPLAIN: Run EXPLAIN on the query without creating test tables.</li> <li>Variants: Create test tables for each variant and compare filter alignment and EXPLAIN stages.</li> </ul>"},{"location":"features/index-analysis/#how-to-use-it","title":"How to use it","text":"<ol> <li>Paste a SQL query.</li> <li>Add one or more variants.</li> <li>For each variant, set a source table and fetch its schema.</li> <li>Choose ORDER BY columns and skip indexes.</li> <li>Configure sampling (WHERE conditions and LIMIT).</li> <li>Pick a destination database for test tables.</li> <li>Run analysis.</li> </ol>"},{"location":"features/index-analysis/#what-you-get","title":"What you get","text":"<ul> <li>EXPLAIN stages with granules and parts reduced</li> <li>Baseline vs variant comparisons</li> <li>Filter alignment coverage for each variant</li> </ul>"},{"location":"features/index-analysis/#saved-configurations","title":"Saved configurations","text":"<p>Use Saved Configurations to load or save a full setup (query, variants, sampling). Saved configs are scoped to your organization.</p>"},{"location":"features/index-analysis/#important-behavior","title":"Important behavior","text":"<p>When running variants, ClickForge creates test tables named:</p> <p><code>{destination_database}.{source_table}_{variant_name}</code></p> <p>The destination database must already exist before you run analysis.</p> <p>If Cleanup After is enabled, those tables are dropped automatically after the run. If it is disabled, you are responsible for deleting them.</p> <p>Related Find candidate queries: Filter Alignment Compare query variants end-to-end: Benchmark Manage stored setups: Saved Configurations</p>"},{"location":"features/parts-visualizer/","title":"Parts Visualizer","text":"<p>Parts Visualizer explores active ClickHouse parts and partitions for the selected databases.</p>"},{"location":"features/parts-visualizer/#screenshot","title":"Screenshot","text":"<p>Replace with a screenshot of the Parts Visualizer showing treemap + bar chart.</p>"},{"location":"features/parts-visualizer/#what-you-can-do","title":"What you can do","text":"<ul> <li>Group by partition or by individual parts</li> <li>Filter by minimum part size</li> <li>Inspect compression ratio, row counts, and bytes on disk</li> </ul>"},{"location":"features/parts-visualizer/#how-to-use-it","title":"How to use it","text":"<ol> <li>Select one or more databases.</li> <li>Choose Partitions or Parts in the Group by toggle.</li> <li>Set a minimum size threshold to focus on large parts.</li> <li>Use the partition filter inside each table to narrow the view.</li> </ol>"},{"location":"features/parts-visualizer/#interpreting-the-charts","title":"Interpreting the charts","text":"<ul> <li>The treemap shows relative size across partitions or parts.</li> <li>The bar chart summarizes compressed vs uncompressed bytes and row counts.</li> <li>Hover a chart item to see disk, row, and compression details.</li> </ul>"},{"location":"features/parts-visualizer/#data-source","title":"Data source","text":"<p>Parts Visualizer reads from <code>system.parts</code> and only shows active parts.</p> <p>Related Review table-level stats first: Table Monitor Analyze long-term growth: Growth</p>"},{"location":"features/query-time/","title":"Query Time","text":"<p>Query Time analyzes query performance over time using data from <code>system.query_log</code>.</p>"},{"location":"features/query-time/#screenshot","title":"Screenshot","text":"<p>Replace with a screenshot of the timeline and pattern heatmap.</p>"},{"location":"features/query-time/#what-you-can-do","title":"What you can do","text":"<ul> <li>Plot average query duration and read rows by hour</li> <li>Group results by a dimension (for example <code>query_user</code>)</li> <li>Add filters to focus on specific query sources</li> <li>Overlay individual query patterns on the timeline</li> <li>Export query patterns to CSV</li> </ul>"},{"location":"features/query-time/#how-to-use-it","title":"How to use it","text":"<ol> <li>Choose a start and end date/time.</li> <li>Add optional filters. Filters are raw SQL predicates applied to <code>system.query_log</code>.</li> <li>Optionally set a Dimension (group by) such as <code>query_user</code> or <code>current_database</code>. The dimension must be a column name, not an expression.</li> <li>Click Load to render the timeline and heatmap.</li> </ol>"},{"location":"features/query-time/#reading-the-results","title":"Reading the results","text":"<ul> <li>Timeline shows average duration and read rows across time.</li> <li>Dimension toggles let you show or hide specific groups.</li> <li>Query Pattern Heatmap highlights the most impactful query hashes.</li> <li>Selecting a pattern adds it as an overlay on the timeline.</li> </ul>"},{"location":"features/query-time/#time-zone-note","title":"Time zone note","text":"<p>Query Time uses the server-side timezone configured in ClickForge (currently <code>Europe/Paris</code>). If your team uses a different timezone, adjust the time range accordingly.</p> <p>Related Check filter coverage for top queries: Filter Alignment Compare query changes: Benchmark</p>"},{"location":"features/table-lineage/","title":"Table Lineage","text":"<p>Table Lineage visualizes dependencies between tables, materialized views, distributed tables, and dictionaries.</p>"},{"location":"features/table-lineage/#screenshot","title":"Screenshot","text":"<p>Replace with a screenshot of the lineage graph and schema panel.</p>"},{"location":"features/table-lineage/#how-to-use-it","title":"How to use it","text":"<ol> <li>Select one or more databases.</li> <li>Optionally select specific tables.</li> <li>Click Load Lineage.</li> </ol> <p>ClickForge will include related upstream and downstream nodes so the graph shows complete paths between selected objects.</p>"},{"location":"features/table-lineage/#what-the-graph-represents","title":"What the graph represents","text":"<ul> <li>Dependencies are derived from <code>system.tables</code> and object definitions.</li> <li>Materialized views show both the source table they read from and the target table they write to.</li> <li>Distributed tables are linked to their local tables where possible.</li> </ul>"},{"location":"features/table-lineage/#schema-panel","title":"Schema panel","text":"<p>Selecting a node shows its schema details including columns, engine, ORDER BY, and partition key.</p> <p>Related Understand endpoint setup: Endpoints Identify heavy query patterns: Query Time</p>"},{"location":"features/table-monitor/","title":"Table Monitor","text":"<p>Table Monitor gives you a fast overview of table size, compression, and growth trends for the selected endpoint. Growth charts live inside this page in the current UI.</p>"},{"location":"features/table-monitor/#screenshot","title":"Screenshot","text":"<p>Replace with a screenshot of the Table Monitor page showing filters, table stats, and growth charts.</p>"},{"location":"features/table-monitor/#what-you-can-do","title":"What you can do","text":"<ul> <li>Filter by databases and tables</li> <li>Review per-table storage stats (rows, compressed size, uncompressed size, parts)</li> <li>Visualize storage and row growth over time</li> </ul>"},{"location":"features/table-monitor/#how-to-use-it","title":"How to use it","text":"<ol> <li>Pick one or more databases.</li> <li>Optionally choose specific tables.</li> <li>Select a date range for growth charts.</li> </ol> <p>The Table Statistics section updates immediately after you select databases. Growth charts render when <code>system.part_log</code> data is available for the chosen range.</p>"},{"location":"features/table-monitor/#data-sources","title":"Data sources","text":"<ul> <li>Table stats come from <code>system.parts</code>.</li> <li>Growth charts use <code>system.part_log</code> with <code>event_type = 'NewPart'</code>.</li> </ul> <p>If <code>system.part_log</code> is unavailable or empty, growth charts will show no data.</p> <p>Related Explore storage layout in Parts Visualizer: Parts Visualizer Investigate slow queries next: Query Time</p>"},{"location":"reference/resultstore/","title":"Saved Configurations","text":"<p>Saved configurations store Index Analysis setups so you can re-run the same experiment later.</p>"},{"location":"reference/resultstore/#where-to-find-them","title":"Where to find them","text":"<p>In Index Analysis, use the Saved Configurations section to load, save, or delete configurations for the active organization.</p>"},{"location":"reference/resultstore/#naming-rules","title":"Naming rules","text":"<p>Configuration names must match:</p> <p><code>^[a-zA-Z0-9][a-zA-Z0-9_-]{0,127}$</code></p> <p>That means:</p> <ul> <li>Start with a letter or number</li> <li>Use only letters, numbers, <code>_</code>, or <code>-</code></li> <li>Maximum length is 128 characters</li> </ul>"}]}